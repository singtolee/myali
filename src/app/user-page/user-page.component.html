<div class="container">
  <div class="row">
    <div class="col-md-4">
      <div *ngIf="auth.user | async as user">
        <div class="card">
          <div class="card-body">
            <img class="roundimg center" [src]="user.photoURL" onError="this.src='./assets/avatar.png'" width="80" height="80">
            <p class="text-center">{{user.displayName}}</p>
            <p class="text-center">{{user.email}}</p>
            <button type="button" class="btn btn-outline-danger btn-sm center" (click)="logout()">SIGN OUT</button>
          </div>
        </div>
      </div>
      <div *ngIf="editme(); else editAddress">
        <div class="card mt-1">
          <div class="card">
            <div class="card-header">
              <div class="d-flex align-items-center">
                <div>
                  <i class="fas fa-truck mr-1"></i>Shipping Address</div>
                <div class="dc"></div>
                <div (click)="togediting()">
                  <small>Edit</small><i class="fas fa-edit ml-1"></i>
                </div>
              </div>
            </div>
            <div class="card-body">
              <p class="card-text">
                <small><strong>Recipient:</strong> {{a.consignee}}</small>
              </p>
              <p class="card-text">
                <small><strong>Phone:</strong> {{a.phone}}</small>
              </p>
              <p class="card-text">
                <small><strong>Address:</strong> {{a.address}},{{a.city}},{{a.postCode}}</small>
              </p>
            </div>
          </div>
        </div>
      </div>
      <ng-template #editAddress>
        <div class="card mt-1">
          <div class="card-header">
            <i class="fas fa-truck"></i>Edit Shipping Address
          </div>
          <div class="card-body">
            <form role="form" #formData='ngForm' (ngSubmit)="saveAddress(formData)">
              <div class="form-group input-group-sm">
                <label for="consignee">Consignee name</label>
                <input autofocus type="text" [(ngModel)]="a.consignee" name="consignee" class="form-control" id="consignee" placeholder="Recipient's name"
                  required>
              </div>
              <div class="form-group input-group-sm">
                <label for="phone">Phone Number</label>
                <input type="text" [(ngModel)]="a.phone" name="phone" class="form-control" id="phone" placeholder="Phone Number" required>
              </div>
              <div class="form-group input-group-sm">
                <label for="city">City</label>
                <input type="text" [(ngModel)]="a.city" name="city" class="form-control" id="city" placeholder="City" required>
              </div>
              <div class="form-group input-group-sm">
                <label for="detailAddress">Detail Address</label>
                <input type="text" [(ngModel)]="a.address" name="address" class="form-control" id="detailAddress" placeholder="Detail Address"
                  required>
              </div>
              <div class="form-group input-group-sm">
                <label for="postCode">Post Code</label>
                <input type="text" [(ngModel)]="a.postCode" name="postCode" class="form-control" id="postCode" placeholder="Post Code"
                  required>
              </div>
              <button type="submit" [disabled]="!formData.valid" class="btn btn-success btn-block btn-sm">Submit</button>
            </form>
          </div>
        </div>
      </ng-template>
    </div>
    <div class="col-md-4">
      {{address | json}}
    </div>
    <div class="col-md-8">

    </div>
  </div>
</div>